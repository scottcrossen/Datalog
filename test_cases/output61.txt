Scheme Evaluation

Fact Evaluation

f
  A='1' B='2'
  A='4' B='3'

g
  C='3' D='2'

r
  E='1' F='4'
  E='2' F='5'
  E='3' F='5'
  E='4' F='1'

Rule Evaluation

Dependency Graph
  R0: R1 R2
  R1: R0
  R2: R0 R1

Reverse Graph
  R0: R1 R2
  R1: R0 R2
  R2: R0

Postorder Numbers
  R0: 3
  R1: 2
  R2: 1

SCC Search Order
  R0
  R1
  R2

SCC: R0
r(A,B) :- f(A,X),g(B,X)
  E='1' F='3'

SCC: R1
f(C,D) :- r(D,C)
  A='1' B='4'
  A='3' B='1'
  A='4' B='1'
  A='5' B='2'
  A='5' B='3'

SCC: R2
g(E,F) :- f(E,X),r(X,F)
  C='1' D='1'
  C='1' D='5'
  C='3' D='3'
  C='3' D='4'
  C='4' D='3'
  C='4' D='4'
  C='4' D='5'
  C='5' D='5'

Rule Evaluation Complete

f
  A='1' B='2'
  A='1' B='4'
  A='3' B='1'
  A='4' B='1'
  A='4' B='3'
  A='5' B='2'
  A='5' B='3'

g
  C='1' D='1'
  C='1' D='5'
  C='3' D='2'
  C='3' D='3'
  C='3' D='4'
  C='4' D='3'
  C='4' D='4'
  C='4' D='5'
  C='5' D='5'

r
  E='1' F='3'
  E='1' F='4'
  E='2' F='5'
  E='3' F='5'
  E='4' F='1'

Query Evaluation

f('3',Z)? Yes(1)
select
  A='3' B='1'
project
  B='1'
rename
  Z='1'

r(Y,'3')? Yes(1)
select
  E='1' F='3'
project
  E='1'
rename
  Y='1'

f(W,X)? Yes(7)
select
  A='1' B='2'
  A='1' B='4'
  A='3' B='1'
  A='4' B='1'
  A='4' B='3'
  A='5' B='2'
  A='5' B='3'
project
  A='1' B='2'
  A='1' B='4'
  A='3' B='1'
  A='4' B='1'
  A='4' B='3'
  A='5' B='2'
  A='5' B='3'
rename
  W='1' X='2'
  W='1' X='4'
  W='3' X='1'
  W='4' X='1'
  W='4' X='3'
  W='5' X='2'
  W='5' X='3'

